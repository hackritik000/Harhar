---
export const prerender = false;
import Layout from "../layouts/Layout.astro";
import { actions } from "astro:actions";
const { data, error } = await Astro.callAction(
  actions.listing.showAllListing,
  {},
);
console.log(data);
---

<Layout title="listing.">
  <form action="">
    {
      data?.map((listing) => (
        <a
          href={`test/${listing.id}`}
          style="border: 2px solid pink; margin: 10px; padding: 10px;"
        >
          <h5>Business Name :{listing.businessName}</h5>
          <h5>OwnerName Name :{listing.ownerName}</h5>
          <button
            type="submit"
            style="padding: 9px 30px; background-color: lightcoral; color: white; border: none; border-radius: 10px; cursor: pointer;"
          >
            Show Details
          </button>
        </a>
      ))
    }
  </form>
</Layout>

<style>
  a{
    display: block;
  }
</style>