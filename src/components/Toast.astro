---
const { message } = Astro.props;

const isVisible = message !== "" || null || undefined || false;

const randomvalue = (Math.round(Math.random() * 10)) + ""
---

<div id="message">{message}</div>
<div id="toast" class={`toast ${isVisible ? 'visible' : 'hidden'}`}>
    <span>{message}</span>
</div>

<style>
    .toast {
        position: fixed;
        top: 20px;
        right:20px;
        background-color: #f44336;
        color: white;
        padding:15px;
        border-radius: 5px;
        box-shadow: 0 2px 10 px rgba(0, 0, 0, 0.2);;
        opacity: 0;
        transform: translate(20px)
        transition: opacity 0.5s, transform 0.5s ease;
        /* z-index: 1000; */
    }
    .toast.visible{
        opacity: 1;
        transform: translate(0);
    }
    .hidden{
        display: none;
    }

</style>
<script>

document.addEventListener("astro:page-load",()=> {
  const message = document.getElementById("message") as HTMLDivElement;
  const isVisible = message.innerText !== "" || null || undefined || false;
if( isVisible){
  console.log("hi" + isVisible)
    setTimeout(()=>{
        const toastElement = document.getElementById('toast') as HTMLDivElement;
        toastElement.classList.remove('visible');
        toastElement.classList.add('hidden');
    },3000)
}
})
</script>   
